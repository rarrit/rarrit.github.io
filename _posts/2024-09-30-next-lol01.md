---
title: "[1ì°¨] Next.js ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œ ì •ë³´ í”„ë¡œì íŠ¸ (ì´ˆê¸° ì„¸íŒ… ë° API í™œìš©)"
date: 2024-09-30
layout: single
toc: true
toc_label: "ëª©ì°¨"
toc_icon: "align-left"
toc_sticky: true
categories:
  - next
  - mini
  - til
tags:
  - mini project
author_profile: true
sidebar_main: true
---

## :ledger: [1ì°¨] Next.js ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œ ì •ë³´ í”„ë¡œì íŠ¸ 

<!-- ![1  mbti-test-main](https://github.com/user-attachments/assets/8d85374b-7b5e-4db3-a19a-35bd9fb1f9f5) -->

## :rocket: ë² í¬ ë§í¬

- vercel
  - ëŒ€ê¸°ì¤‘
- github
  - [https://github.com/rarrit/lol-champion-app](https://github.com/rarrit/lol-champion-app)

## :one: í”„ë¡œì íŠ¸ ì„¤ëª…

NextJSì™€ TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ Riot APIë¥¼ í™œìš©í•˜ì—¬ ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œì˜ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±í•œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.

## :two: STACK
![Next JS](https://img.shields.io/badge/Next-black?style=for-the-badge&logo=next.js&logoColor=white) ![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white) ![React Query](https://img.shields.io/badge/-React%20Query-FF4154?style=for-the-badge&logo=react%20query&logoColor=white) ![TailwindCSS](https://img.shields.io/badge/tailwindcss-%2338B2AC.svg?style=for-the-badge&logo=tailwind-css&logoColor=white) ![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E) ![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)

## :three: í”„ë¡œì íŠ¸ êµ¬ì¡°

- 1ì°¨ì—ì„  í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¸íŒ… ë° API ì„¸íŒ…ì„ í–ˆìŠµë‹ˆë‹¤.

<details>
<summary>ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°</summary>
ğŸ“¦app<br/>
 â”£ ğŸ“‚_components<br/>
 â”ƒ â”£ ğŸ“‚champions<br/>
 â”ƒ â”ƒ â”£ ğŸ“œChampionCard.tsx<br/>
 â”ƒ â”ƒ â”— ğŸ“œChampionList.tsx<br/>
 â”ƒ â”£ ğŸ“‚common<br/>
 â”ƒ â”ƒ â”— ğŸ“œButton.tsx<br/>
 â”ƒ â”— ğŸ“‚items<br/>
 â”ƒ â”ƒ â”— ğŸ“œItemCard.tsx<br/>
 â”£ ğŸ“‚api<br/>
 â”ƒ â”£ ğŸ“œapiConfig.ts<br/>
 â”ƒ â”£ ğŸ“œapiKey.ts<br/>
 â”ƒ â”— ğŸ“œchampions.ts<br/>
 â”£ ğŸ“‚champions<br/>
 â”ƒ â”£ ğŸ“‚[id]<br/>
 â”ƒ â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”£ ğŸ“‚fonts<br/>
 â”ƒ â”£ ğŸ“œGeistMonoVF.woff<br/>
 â”ƒ â”— ğŸ“œGeistVF.woff<br/>
 â”£ ğŸ“‚items<br/>
 â”ƒ â”£ ğŸ“‚[id]<br/>
 â”ƒ â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”£ ğŸ“‚rotation<br/>
 â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”£ ğŸ“‚types<br/>
 â”ƒ â”£ ğŸ“œChampion.ts<br/>
 â”ƒ â”£ ğŸ“œChampionRotation.ts<br/>
 â”ƒ â”— ğŸ“œItem.ts<br/>
 â”£ ğŸ“œfavicon.ico<br/>
 â”£ ğŸ“œglobals.css<br/>
 â”£ ğŸ“œlayout.tsx<br/>
 â”— ğŸ“œpage.tsx<br/>
</details>

## :four: ë””ë ‰í† ë¦¬ ì„¤ëª…

#### :pushpin: 4-1) app \> _components
ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë””ë ‰í† ë¦¬, ì´ˆê¸° ì„¸íŒ… ë° 1ì°¨ ì‘ì—…ì—ì„œëŠ” ì±”í”¼ì–¸ ìœ„ì£¼ë¡œ ì‘ì—…í•´ì„œ ItemList ì¶”ê°€í•  ì˜ˆì •ì´ë‹¤.

- `ChampionList.tsx`: ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸
- `ChampionCard.tsx`: ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸ì— ì¶œë ¥ë  ì±”í”¼ì–¸ ì¹´ë“œ
- `Button.tsx`: ê³µí†µ ë²„íŠ¼ìœ¼ë¡œ ì‚¬ìš©í•  ì˜ˆì •
- `ItemCard.tsx`: ì•„ì´í…œ ì¹´ë“œ 

#### :pushpin: 4-2) app \> api
ì´ˆê¸° api ì„¸íŒ… ë””ë ‰í† ë¦¬, api ê´€ë ¨ ì„¸íŒ…ì„ í•´ì¤¬ë‹¤. 

- `apiConfig.ts`: ì±”í”¼ì–¸, ì•„ì´í…œ ë“± ìµœì‹  ë²„ì „ì˜ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” API URL ë°˜í™˜
- `apiKey.ts`: í™˜ê²½ ë³€ìˆ˜ì—ì„œ ì„¸íŒ…í•œ Riot API keyë¥¼ ì„¤ì •
- `champions.ts`: lol APIì—ì„œ ìµœì‹  ë²„ì „ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³  í•´ë‹¹ ë²„ì „ì— ë§ëŠ” ì „ì²´ ì±”í”¼ì–¸ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ ë°˜í™˜

#### :pushpin: 4-3) app \> champions
ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸, ì±”í”¼ì–¸ ìƒì„¸í˜ì´ì§€, í•´ë‹¹ í˜ì´ì§€ì—ì„œ ìµœì‹  ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìœ¼ë©°, í´ë¦­í•´ì„œ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

#### :pushpin: 4-4) app \> items
ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸, ì•„ì´í…œ ìƒì„¸í˜ì´ì§€, í•´ë‹¹ í˜ì´ì§€ì—ì„œ ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œì˜ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, í´ë¦­í•´ì„œ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

#### :pushpin: 4-5) app \> rotation
ë§¤ì£¼ ë¬´ë£Œë¡œ í”Œë ˆì´í•  ìˆ˜ ìˆëŠ” ì±”í”¼ì–¸ë“¤ì˜ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

#### :pushpin: 4-6) app \> layout.tsx
ê³µí†µ í—¤ë” ë° í‘¸í„° ë¥¼ ìƒì„± í›„ í—¤ë”ì— ì±”í”¼ì–¸,ì•„ì´í…œ,ë¡œí…Œì´ì…˜ ë©”ë‰´ë¥¼ ìƒì„±

#### :pushpin: 4-7) app \> types
ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ì •ë³´ë¥¼ ì •ì˜í•œ íƒ€ì… ì¸í„°í˜ì´ìŠ¤ë‹¤.

## :five: ì‘ì—… ëª©ë¡

#### :pushpin: 5-1) ì´ˆê¸° ì„¸íŒ…
- ìœ„ì™€ ê°™ì´ ë””ë ‰í† ë¦¬ë¥¼ ì„¤ì •í•˜ê³  env íŒŒì¼ì„ ìƒì„±í•˜ì—¬ keyê°’ì„ ì„¤ì •í•´ì£¼ì—ˆë‹¤. 
- api ë””ë ‰í† ë¦¬ ë‚´ì—ì„œ apiê´€ë ¨ keyê°’ ë° ì„œë²„ ì•¡ì…˜ í•¨ìˆ˜ë¥¼ ìƒì„±í•´ì£¼ì—ˆë‹¤.
- í”„ë¡œì íŠ¸ì— í•„ìš”í•œ í˜ì´ì§€ë¥¼ ìƒì„±

#### :pushpin: 5-2) ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€
ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œëŠ” `ChampionList` ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ì˜í•˜ê³  ë Œë”ë§í•œë‹¤.

```tsx
import ChampionList from "../_components/champions/ChampionList"

const ChampionPage = async () => <ChampionList/>

export default ChampionPage
```

#### :pushpin: 5-3) ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸
Riot APIì—ì„œ ê°€ì ¸ì˜¨ ì±”í”¼ì–¸ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì±”í”¼ì–¸ ëª©ë¡ì„ í™”ë©´ì— ë Œë”ë§í•œë‹¤.

- `getChampions`: ì±”í”¼ì–¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” `getChampions` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´
- `champions`: ë°›ì•„ì˜¨ ë°ì´í„°ì—ì„œ `Object.values`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ ê°’ë“¤ì„ ë°°ì—´ë¡œ ë°˜í™˜í•¨

```tsx
import { getChampions } from "@/app/api/champions";
import ChampionCard from "./ChampionCard";

const ChampionList = async () => {
  const data = await getChampions();
  const champions = Object.values(data); // Object.valuesë¡œ ë³€ê²½í•˜ì—¬ ChampionInfo ë°°ì—´ ìƒì„±

  return (
    <div id="championList" className="flex flex-wrap">
      {
        champions.map(champion => {
          return (
            <ChampionCard 
              key={champion.id} 
              champion={champion} // champion prop ì „ë‹¬
            />
          );
        })
      }
    </div>
  );
}

export default ChampionList;
```


#### :pushpin: 5-4) ì±”í”¼ì–¸ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
ì±”í”¼ì–¸ì˜ ì´ë¦„,íƒ€ì´í‹€,ì´ë¯¸ì§€ ë“± í™”ë©´ì— í‘œì‹œí•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.

- `ChampionCardProps`: í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ë°›ì„ `champion` prop íƒ€ì…ì„ ì •ì˜í•¨
- `React.FC`: Function Component íƒ€ì…ì˜ ì¤„ì„ë§ë¡œ, React + Typescript ì¡°í•©ìœ¼ë¡œ ê°œë°œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì´ë‹¤.
  - í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ì‹œ íƒ€ì… ì„ ì–¸ì— ì“¸ ìˆ˜ ìˆë„ë¡ Reactì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì….

```tsx
import { ChampionInfo } from "@/app/types/Champion";
import Image from "next/image";

type ChampionCardProps = {
  champion: ChampionInfo; // champion propì„ ì •ì˜
};

const ChampionCard: React.FC<ChampionCardProps> = ({ champion }) => {
  console.log("champion==>",champion);
  return (
    <div>
      <h2>{champion.name}</h2>
      <p>{champion.title}</p>
      {champion.image && (
        <Image 
          src={`https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${champion.id}_0.jpg`} 
          width={100}
          height={100}
          alt={champion?.name} 
        />
      )}
    </div>
  );
};

export default ChampionCard;

```

## :fire: íšŒê³ 
ì²˜ìŒ ì§„í–‰í•˜ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ + Next.js í”„ë¡œì íŠ¸.. ì•„ì§ ë„ˆë¬´ ì†ì— ì•ˆìµì–´ì„œ ì„¸íŒ…ë§Œ ëª‡ ì‹œê°„ì´ ê±¸ë¦°ì§€ ëª¨ë¥´ê² ë‹¤. ì´ë²ˆ ê°œì¸ê³¼ì œ ê¸°ê°„ì€ ë„ë„í•˜ë‹ˆ ëŠë¦¬ë”ë¼ë„ ì™„ë£Œí•  ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•´ë³´ë ¤ í•œë‹¤.

### :pushpin: Keep - í˜„ì¬ ë§Œì¡±í•˜ê³  ìˆëŠ” ë¶€ë¶„
APIë¥¼ ì„¸íŒ…í•˜ëŠ” ê³¼ì •ì—ì„œ ì–´ë ¤ì›€ì´ ìˆì—ˆì§€ë§Œ í™”ë©´ì— ìµœì‹  ì±”í”¼ì–¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¿Œë ¤ì¤€ ê²ƒ

### :pushpin: Problem - ë¶ˆí¸í•˜ê²Œ ëŠë¼ëŠ” ë¶€ë¶„
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ìƒê°ë³´ë‹¤ ë§ì´ ì–´ë µê²Œ ëŠê»´ì§„ë‹¤. í™•ì‹¤íˆ ì–´ë–»ê²Œ ì‚¬ìš©í•´ì•¼ ë˜ëŠ”ì§€ëŠ” ì•„ì§ê¹Œì§„ ì˜ ëª¨ë¥´ê² ìœ¼ë©°, ì¤‘ê°„ì¤‘ê°„ ì½”ë“œì—ì„œ íƒ€ì… í™•ì¸í•˜ë¼ê³  í•˜ë©´ ê·¸ë•Œ í™•ì¸í•˜ë©° ì‘ì—…ì¤‘ì´ë‹¤.

### :pushpin: Try - problemì— ëŒ€í•œ í•´ê²°ì±…, ë‹¹ì¥ ì‹¤í–‰ ê°€ëŠ¥í•œ ê²ƒ
TypeScriptì™€ Next.jsë¥¼ ê³µë¶€í•˜ê³  ì²˜ìŒ ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ë¼ ì–´ë ¤ì›€ì´ ë§ì§€ë§Œ ì–´ì©” ìˆ˜ ì—†ë‹¤. ë§ì´ ì‚¬ìš©í•´ë³´ë©° ìµìˆ™í•´ì§€ë„ë¡ ë…¸ë ¥í•´ì•¼ê² ë‹¤.