---
title: "[2ì°¨] íŒ©íŠ¸í­í–‰ MBTI í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ - MBTI í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ì ìš©"
date: 2024-09-10
layout: single
toc: true
toc_label: "ëª©ì°¨"
toc_icon: "align-left"
toc_sticky: true
categories:
  - react
  - mini
  - til
tags:
  - mini project
author_profile: true
sidebar_main: true
---

## :ledger: REACT MBTI TEST PROJECT

![1  mbti-test-main](https://github.com/user-attachments/assets/8d85374b-7b5e-4db3-a19a-35bd9fb1f9f5)

## :rocket: ë² í¬ ë§í¬

- vercel
  - [https://fact-mbti-test.vercel.app/](https://fact-mbti-test.vercel.app/)
- github
  - [https://github.com/rarrit/react-mbti-test](https://github.com/rarrit/react-mbti-test)

## :one: í”„ë¡œì íŠ¸ ì„¤ëª…

íŒ©íŠ¸ë¡œ í­í–‰í•˜ëŠ” MBTI TEST ì…ë‹ˆë‹¤. FëŠ” ìƒì²˜ë°›ì„ ìˆ˜ ìˆìœ¼ë‹ˆ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì‹œ ì£¼ì˜ ìš”ë§

## :two: STACK

![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB) ![React Router](https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white) ![Context-API](https://img.shields.io/badge/Context--Api-000000?style=for-the-badge&logo=react) ![JWT](https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens) ![React Query](https://img.shields.io/badge/-React%20Query-FF4154?style=for-the-badge&logo=react%20query&logoColor=white) ![Styled Components](https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white) ![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E) ![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)

## :three: í”„ë¡œì íŠ¸ êµ¬ì¡°

- 2ì°¨ì—ì„  MBTI í…ŒìŠ¤íŠ¸, ê²°ê³¼, ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.
- ê¹ƒì—ì„œ `feat/mbti` ë¸Œëœì¹˜ë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥

<details>
<summary>ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°</summary>
ğŸ“¦src<br/>
 â”£ ğŸ“‚api<br/>
 â”ƒ â”£ ğŸ“œauthAPI.js<br/>
 â”ƒ â”— ğŸ“œmbtiAPI.js<br/>
 â”£ ğŸ“‚assets<br/>
 â”ƒ â”£ ğŸ“‚img<br/>
 â”ƒ â”ƒ â”£ ğŸ“‚mbti<br/>
 â”ƒ â”— ğŸ“œreact.svg<br/>
 â”£ ğŸ“‚components<br/>
 â”ƒ â”£ ğŸ“‚footer<br/>
 â”ƒ â”£ ğŸ“‚header<br/>
 â”ƒ â”£ ğŸ“œGlobalStyle.jsx<br/>
 â”ƒ â”£ ğŸ“œLayout.jsx<br/>
 â”ƒ â”£ ğŸ“œProtectedRoute.jsx<br/>
 â”ƒ â”£ ğŸ“œTestForm.jsx<br/>
 â”ƒ â”£ ğŸ“œTestResultItem.jsx<br/>
 â”ƒ â”— ğŸ“œTestResultList.jsx<br/>
 â”£ ğŸ“‚constants<br/>
 â”ƒ â”— ğŸ“œqueryKeys.js<br/>
 â”£ ğŸ“‚context<br/>
 â”ƒ â”— ğŸ“œAuthContext.jsx<br/>
 â”£ ğŸ“‚data<br/>
 â”ƒ â”— ğŸ“œquestions.js<br/>
 â”£ ğŸ“‚hooks<br/>
 â”ƒ â”£ ğŸ“œmutations.jsx<br/>
 â”ƒ â”— ğŸ“œqueries.jsx<br/>
 â”£ ğŸ“‚instance<br/>
 â”ƒ â”— ğŸ“œbaseInstance.js<br/>
 â”£ ğŸ“‚pages<br/>
 â”ƒ â”£ ğŸ“œJoin.jsx<br/>
 â”ƒ â”£ ğŸ“œLogin.jsx<br/>
 â”ƒ â”£ ğŸ“œMain.jsx<br/>
 â”ƒ â”£ ğŸ“œMypage.jsx<br/>
 â”ƒ â”£ ğŸ“œTestPage.jsx<br/>
 â”ƒ â”— ğŸ“œTestResultPage.jsx<br/>
 â”£ ğŸ“‚shared<br/>
 â”ƒ â”— ğŸ“œRouter.jsx<br/>
 â”£ ğŸ“‚utils<br/>
 â”ƒ â”£ ğŸ“œdateResult.js<br/>
 â”ƒ â”£ ğŸ“œmbtiCalculator.js<br/>
 â”ƒ â”£ ğŸ“œmbtiImg.js<br/>
 â”ƒ â”— ğŸ“œmbtiResult.js<br/>
 â”£ ğŸ“‚zustand<br/>
 â”ƒ â”— ğŸ“œuserStore.js<br/>
 â”£ ğŸ“œApp.css<br/>
 â”£ ğŸ“œApp.jsx<br/>
 â”£ ğŸ“œindex.css<br/>
 â”— ğŸ“œmain.jsx<br/>
</details>

## :four: í”„ë¡œì íŠ¸ ì„¸íŒ… ë° ê¸°ëŠ¥ ì„¤ëª…
### :pushpin: 4-1) ì„¤ì¹˜ íŒ¨í‚¤ì§€

1. Json-server
2. Tanstack query
3. zustand
4. Axios
5. Tailwind
6. styled-component
7. react-router-dom
8. the-new-css-reset
9. lucide-react

### :pushpin: 4-2) ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ
1. ë©”ì¸ í˜ì´ì§€ (1ì°¨ì—ì„œ ì™„ë£Œ)
  - ì•½ê°„ì˜ ì–´ê·¸ë¡œì„± ë¬¸êµ¬ì™€ `í…ŒìŠ¤íŠ¸í•˜ê¸°` ë²„íŠ¼ì„ í†µí•´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. íšŒì›ê°€ì… í˜ì´ì§€
  - ë‹‰ë„¤ì„, ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ íšŒì›ê°€ì… ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤." ë¬¸êµ¬ì™€ í•¨ê»˜ `ë¡œê·¸ì¸` í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
3. ë¡œê·¸ì¸ í˜ì´ì§€
  - ì•„ì´ë””ì™€, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥ í›„ ë¡œê·¸ì¸ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ "ë¡œê·¸ì¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤." ë¬¸êµ¬ì™€ í•¨ê»˜ `ë©”ì¸` í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
4. í”„ë¡œí•„ í˜ì´ì§€
  - ì•„ì´ë””, ì´ì „ ë‹‰ë„¤ì„ì„ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ë³€ê²½ ë‹‰ë„¤ì„ì— ê°’ì„ ì…ë ¥ í›„ ë‹‰ë„¤ì„ì„ ë³€ê²½ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë³€ê²½ëœ ë‹‰ë„¤ì„ìœ¼ë¡œ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
5. í…ŒìŠ¤íŠ¸ í˜ì´ì§€
  - 12ê°œì˜ ë¬¸í•­ì— ëŒ€í•´ ì²´í¬ í›„ ì €ì¥ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ í™”ë©´ì— ì¶œë ¥ë©ë‹ˆë‹¤.
6. ê²°ê³¼ë³´ê¸° í˜ì´ì§€
  - MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ê°€ ìˆëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.
    - ê²Œì‹œë¬¼ì€ ë³¸ì¸ì´ ì“´ ê²Œì‹œë¬¼ë§Œ ê³µê°œ/ë¹„ê³µê°œ, ì‚­ì œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
      - ë¹„ê³µê°œ ì„ íƒ ì‹œ í•´ë‹¹ ê¸€ì€ ê²°ê³¼ë³´ê¸° í˜ì´ì§€ì—ì„œ ë³¸ì¸ë§Œ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## :five: ì‘ì—… ëª©ë¡

### :pushpin: 5-1) MBTI TEST PAGE 

![5  mbti-test-test](https://github.com/user-attachments/assets/6125ffa1-ed27-45c3-9bae-71af51103b2b)

```jsx
// components/TestForm.jsx
const navigate = useNavigate();
const { isUserInfo } = useContext(AuthContext);
const [resultInfo, setResultInfo] = useState(null);

const handleTestSubmit = async (answers) => {
  const result = calculateMBTI(answers);    
  console.log(result);
  setResultInfo(result); 
  const resultData = {
    userId: isUserInfo.id,
    nickname: isUserInfo.nickname,
    result,
    // answers,      
    date: new Date().toISOString(),
    visibility: true,
  };    
  console.log("resultData =====>", resultData);
  await createTestResult(resultData);    
  
};

const mbtiImg = getMbtiImg(resultInfo);
return (    
  {resultInfo
  ? (
    <StResultForm>
      <h2>{resultInfo}</h2>
      <StImg className="mbtiImg" src={mbtiImg} />
      <p className="minSans" dangerouslySetInnerHTML={{__html: mbtiResult(resultInfo)}}/>

      <div className="btnArea">
        <button onClick={() => setResultInfo(null)}>ë‹¤ì‹œí•˜ê¸°</button>
        <button onClick={() => navigate('/results')}>ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ ë³´ê¸°</button>
      </div>          
    </StResultForm>
  ) 
  : ( 
    <>
      <TestForm onSubmit={handleTestSubmit}/>        
    </>   
  )}  
)
```

- `TestPage`
  - ì‚¬ìš©ìê°€ 12ê°œì˜ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì„ ì„ íƒí•˜ê³  ì œì¶œí•  ìˆ˜ ìˆëŠ” ì„¤ë¬¸ í¼ì„ ì œê³µí•œë‹¤.
  - MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ê³„ì‚°í•˜ê³  ì €ì¥í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.
  - **ìƒíƒœê´€ë¦¬**
    - useStateë¥¼ ì‚¬ìš©í•´ resultInfo ìƒíƒœë¥¼ ìƒì„±í•˜ì—¬ MBTI ê²°ê³¼ë¥¼ ì €ì¥í•œë‹¤.
    - AuthContextì˜ isUserInfoë¥¼ í†µí•´ ì‚¬ìš©ì ì •ë³´ë¥¼ ë°›ì•„ì™€, ì‚¬ìš©ì IDì™€ ë‹‰ë„¤ì„ì„ ì‚¬ìš©í•œë‹¤.
  - **handleTestSubmit** í•¨ìˆ˜
    - ì„¤ë¬¸ ì œì¶œ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¡œ, ì‚¬ìš©ìê°€ ì„ íƒí•œ answers ë°°ì—´ì„ calculateMBTI í•¨ìˆ˜ë¥¼ í†µí•´ MBTI ê²°ê³¼ë¡œ ë³€í™˜í•œë‹¤.
    - MBTI ê²°ê³¼ë¥¼ setResultInfoë¡œ ìƒíƒœì— ì €ì¥í•œ ë’¤, resultData ê°ì²´ë¥¼ ìƒì„±í•´ ì‚¬ìš©ì ID, ë‹‰ë„¤ì„, ê²°ê³¼, ë‚ ì§œ, ê³µê°œ ì—¬ë¶€ ë“±ì˜ ì •ë³´ë¥¼ í¬í•¨í•œë‹¤.
    - createTestResult í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ë°ì´í„°ë¥¼ ì„œë²„ì— ì €ì¥í•œë‹¤.
  - **ê²°ê³¼ í™”ë©´**
    - MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ìˆìœ¼ë©´, getMbtiImgë¡œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê³ , mbtiResult í•¨ìˆ˜ë¡œ ê²°ê³¼ ì„¤ëª…ì„ ê°€ì ¸ì™€ í™”ë©´ì— í‘œì‹œí•œë‹¤.
    - ê²°ê³¼ê°€ ì—†ì„ ë•ŒëŠ” TestForm ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ì—¬ ì‚¬ìš©ìê°€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë„ë¡ í•œë‹¤.


---

```jsx
// components/TestForm.jsx
const TestForm = ({ onSubmit }) => {
  const [answers, setAnswers] = useState(Array(questions.length).fill(null));

  // ì²´í¬ëœ inputì˜ ê°’ì„ ì „ë‹¬ (ìˆœì„œ, yes or no)
  const handleChange = (index, answer) => {
    // ê¸°ì¡´ì˜ answers ë°°ì—´ì„ ë³µì‚¬ (ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´)
    const newAnswers = [...answers];
    // íŠ¹ì • ì§ˆë¬¸(index)ì— í•´ë‹¹í•˜ëŠ” ë‹µë³€ì„ ìƒˆë¡œìš´ ê°’(answer)ìœ¼ë¡œ ë³€ê²½
    newAnswers[index] = answer;
     // ì—…ë°ì´íŠ¸ëœ ë°°ì—´ì„ ìƒíƒœë¡œ ì„¤ì •
    setAnswers(newAnswers);
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    onSubmit(answers);
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  };
}  
```


- `TestForm`
  - **ìƒíƒœê´€ë¦¬**
    - `useState`ë¥¼ ì‚¬ìš©í•´ `answers` ìƒíƒœë¥¼ ìƒì„± ë° `questions` ë°°ì—´ì˜ ê¸¸ì´ë§Œí¼ `null`ë¡œ ì±„ì›Œì§„ ë°°ì—´ì„ ì´ˆê¸°ê°’ìœ¼ë¡œ ì„¤ì •í•˜ë©°, ê° ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì´ `answers` ë°°ì—´ì˜ íŠ¹ì • ì¸ë±ìŠ¤ì— ì €ì¥ëœë‹¤.
  - **handleChange í•¨ìˆ˜**
    - ì‚¬ìš©ìê°€ íŠ¹ì • ì§ˆë¬¸ì— ëŒ€í•´ ë‹µë³€ì„ ì„ íƒí•  ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜.
    - `answers` ë°°ì—´ì„ ë³µì‚¬í•˜ì—¬ ì„ íƒëœ ì§ˆë¬¸(`index`)ì˜ ë‹µë³€ì„ ì—…ë°ì´íŠ¸í•˜ê³ , ì—…ë°ì´íŠ¸ëœ ë°°ì—´ì„ ë‹¤ì‹œ ìƒíƒœë¡œ ì„¤ì •í•œë‹¤.
  - **handleSubmit í•¨ìˆ˜**
    - ì‚¬ìš©ìê°€ ì œì¶œ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¡œ, ì œì¶œì„ ë§‰ê¸° ìœ„í•´ `e.preventDefault()`ë¥¼ ì‚¬ìš©.
    - `onSubmit` propìœ¼ë¡œ `answers` ë°°ì—´ì„ ì „ë‹¬í•˜ê³ , í˜ì´ì§€ë¥¼ ìµœìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•˜ëŠ” ë™ì‘ì„ ì¶”ê°€.  




### :pushpin: 5-2) MBTI TEST RESULT
- `TestResultList` ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê³ , ê°ê°ì˜ ê²°ê³¼ì— ëŒ€í•´ ì‚­ì œ ë° ê³µê°œ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ëœ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- `TestResultItem` ì»´í¬ë„ŒíŠ¸ëŠ” MBTI ê²°ê³¼ë¥¼ ê°œë³„ì ìœ¼ë¡œ ë³´ì—¬ì£¼ë©°, ì‚¬ìš©ìê°€ í•´ë‹¹ ê¸€ì˜ ì‘ì„±ìì¸ ê²½ìš° ì‚­ì œ ë° ê³µê°œ ì—¬ë¶€ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì„ ì œê³µí•œë‹¤.

![6  mbti-test-result](https://github.com/user-attachments/assets/fb96422b-b977-4936-856d-f4dbabd3bb0a)


```jsx
// components/TestResultList
const TestResultList = () => {  
  const { data, isLoading, isError } = useMbti();

  // custom hooks
  const { mutate: onDeleteMbti } = useDeleteMbti();
  const { mutate: onUpdateMbti } = useVisibilityMbti();


  if(isLoading) return <div>ë¡œë”©ì¤‘ì…ë‹ˆë‹¤.</div>
  if(isError) return <div>ì—ëŸ¬ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.</div>

  const sortData = data.sort((a, b) => new Date(b.date) - new Date(a.date));   
  
  return (
    <StResultItemWrap>
      {
        sortData.map(list => {
          return (
            <TestResultItem 
              key={list.id}
              data={list}
              onDelete={onDeleteMbti}
              onUpdate={onUpdateMbti}
            />
          )
        })  
      }   
    </StResultItemWrap>    
  )
}
```

- `TestResultList`
  - MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ëª©ë¡ì„ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.
  - APIë¡œë¶€í„° ê°€ì ¸ì˜¨ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ë¡œë”©, ì—ëŸ¬ ì²˜ë¦¬ì™€ í•¨ê»˜ ì¶œë ¥í•˜ë©°, ê²°ê³¼ ì •ë ¬ ë° ì‚­ì œ, ê³µê°œ ì—¬ë¶€ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
  - ***ìƒíƒœê´€ë¦¬ ë° ë°ì´í„° ì²˜ë¦¬***
    - `useMbti` ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©í•˜ì—¬ APIì—ì„œ MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
      - `data`: ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ëª©ë¡.
      - `isLoading`: ë°ì´í„°ê°€ ë¡œë”© ì¤‘ì¸ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ„.
      - `isError`: ì—ëŸ¬ ë°œìƒ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ„.
    - `isLoading`ì¼ ë•ŒëŠ” "ë¡œë”©ì¤‘ì…ë‹ˆë‹¤." ë©”ì‹œì§€ë¥¼, isErrorì¼ ë•ŒëŠ” "ì—ëŸ¬ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤." ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•œë‹¤.
  - ***ì •ë ¬***
    - ë°ì´í„°ë¥¼ ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ sort ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ì˜ date ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•œë‹¤.
  - ***ì»¤ìŠ¤í…€ í›… ì‚¬ìš©***
    - `useDeleteMbti`: íŠ¹ì • MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” í›….
      - `onDeleteMbti` í•¨ìˆ˜ë¡œ ë°ì´í„°ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆë‹¤.
    - `useVisibilityMbti`: íŠ¹ì • í…ŒìŠ¤íŠ¸ ê²°ê³¼ì˜ ê³µê°œ ì—¬ë¶€ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í›….
      - `onUpdateMbti` í•¨ìˆ˜ë¡œ ê³µê°œ ì—¬ë¶€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
  - ***ê²°ê³¼ ì¶œë ¥***
    - sortData ë°°ì—´ì„ map ë©”ì„œë“œë¡œ ìˆœíšŒí•˜ë©´ì„œ, ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼(list)ë¥¼ TestResultItem ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•œë‹¤.

---

```jsx
// components/TestResultItem.jsx
const TestResultItem = ({ data, onDelete, onUpdate }) => {  
  const { isUserInfo } = useContext(AuthContext);

  // ê³µê°œ ê¸€ || ë‚˜ì˜ ê¸€
  if(data.visibility || isUserInfo) {
    return (
      <StMbtiItem>
        <div className="info">
          <p>
            {data.nickname ? data.nickname : data.userId}        
            {
              isUserInfo.id === data.userId && (
                <span className={data.visibility ? `listState release` : `listState private` }>
                  {data.visibility ? 'ê³µê°œ ê¸€' : 'ë¹„ê³µê°œ ê¸€'}
                </span>
              )
            } 
          </p>          
          <p>{getFormattedTime(data.date)}</p>
        </div>       
        <div className="descBox">
          <span className="descMbti">{data.result}</span>
          <p className="descText minSans" dangerouslySetInnerHTML={{__html: mbtiResult(data.result)}} />
        </div> 
        
        
        {
          isUserInfo.id === data.userId && (
            <div className="btnArea">
              <button onClick={() => onDelete(data.id)}>ì‚­ì œ</button>
              <button onClick={() => onUpdate({id: data.id, vis: data.visibility})}>
                {data.visibility ? 'ë¹„ê³µê°œ' : 'ê³µê°œ'}
              </button>
            </div>
          )
        }      
        
        
      </StMbtiItem>
    )
  }

  return null;

}
```

- `TestResultItem` 
  - MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê°œë³„ í•­ëª©ì„ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.
  - propsë¡œ `data`, `onDelete`, `onUpdate`ë¥¼ ì „ë‹¬ë°›ì•„ ê²°ê³¼ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ê³ , ì‚­ì œ ë° ê³µê°œ ì—¬ë¶€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì„ ì œê³µí•œë‹¤.
  - **ìœ ì € ì •ë³´ ë° ê²Œì‹œë¬¼ ì ‘ê·¼**
    - `useContext(AuthContext)`ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    - ê²Œì‹œë¬¼ì´ ê³µê°œ ìƒíƒœ(`data.visibility === true`)ì´ê±°ë‚˜, í˜„ì¬ ì‚¬ìš©ìê°€ í•´ë‹¹ ê²Œì‹œë¬¼ì˜ ì‘ì„±ìì¸ ê²½ìš°ì—ë§Œ ê²Œì‹œë¬¼ì´ í™”ë©´ì— í‘œì‹œëœë‹¤.
  - **ê²Œì‹œë¬¼ ì •ë³´ ì¶œë ¥**
    - ë‹‰ë„¤ì„ ë° ì‘ì„± ì‹œê°„
      - ê²Œì‹œë¬¼ ì‘ì„±ìê°€ ë‹‰ë„¤ì„ì„ ì„¤ì •í•œ ê²½ìš°, ë‹‰ë„¤ì„ì„ í‘œì‹œí•˜ê³  ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ `userId`ë¥¼ ëŒ€ì‹  í‘œì‹œí•œë‹¤.
      - ê²Œì‹œë¬¼ì˜ ì‘ì„± ì‹œê°„ì€ `getFormattedTime(data.date)` í•¨ìˆ˜ë¥¼ í†µí•´ í¬ë§·íŒ…ë˜ì–´ í™”ë©´ì— ì¶œë ¥ëœë‹¤.
  - **ê²Œì‹œë¬¼ ê³µê°œ ìƒíƒœ í‘œì‹œ**
    - í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìê°€ í•´ë‹¹ ê²Œì‹œë¬¼ì˜ ì‘ì„±ìì¸ ê²½ìš°, ê²Œì‹œë¬¼ì˜ ê³µê°œ ì—¬ë¶€ë¥¼ ê³µê°œ ê¸€ í˜¹ì€ ë¹„ê³µê°œ ê¸€ë¡œ í‘œì‹œí•œë‹¤.
    - `data.visibility`ì— ë”°ë¼ ê¸€ì´ ê³µê°œ ìƒíƒœë©´ '`release`', ë¹„ê³µê°œ ìƒíƒœë©´ '`private`'ì´ë¼ëŠ” CSS í´ë˜ìŠ¤ë¥¼ ì„¤ì •í•˜ì—¬ ìŠ¤íƒ€ì¼ë§í•œë‹¤.
  - **ê²Œì‹œë¬¼ ë‚´ìš© ì¶œë ¥**
    - MBTI ê²°ê³¼: `data.result`ë¡œ MBTI ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê³ , ê·¸ì— ë”°ë¥¸ ì„¤ëª…ì„ `mbtiResult(data.result)` í•¨ìˆ˜ë¡œ ê°€ì ¸ì™€ `dangerouslySetInnerHTML`ì„ ì‚¬ìš©í•˜ì—¬ HTMLë¡œ í‘œì‹œí•œë‹¤.
    - `dangerouslySetInnerHTML`ì€ ì§ì ‘ì ì¸ HTML ë Œë”ë§ì„ ìœ„í•´ ì‚¬ìš©ë˜ë©°, ë³´ì•ˆì— ìœ ì˜í•´ì•¼ í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ê²°ê³¼ë¥¼ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‚¬ìš©ëœë‹¤.
  - **ë²„íŠ¼ ì˜ì—­**
    - í˜„ì¬ ì‚¬ìš©ìê°€ í•´ë‹¹ ê²Œì‹œë¬¼ì˜ ì‘ì„±ìì¸ ê²½ìš°ì—ë§Œ ì‚­ì œ ë° ê³µê°œ ì—¬ë¶€ ë³€ê²½ ë²„íŠ¼ì´ í‘œì‹œëœë‹¤.
    - ì‚­ì œ ë²„íŠ¼: `onDelete(data.id)`ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²Œì‹œë¬¼ì„ ì‚­ì œí•œë‹¤.
    - ê³µê°œ ì—¬ë¶€ ë³€ê²½ ë²„íŠ¼: `onUpdate({id: data.id, vis: data.visibility})`ì„ í˜¸ì¶œí•˜ì—¬ ê²Œì‹œë¬¼ì˜ ê³µê°œ ìƒíƒœë¥¼ ë³€ê²½í•œë‹¤. í˜„ì¬ ê²Œì‹œë¬¼ì˜ ê³µê°œ ìƒíƒœì— ë”°ë¼ 'ë¹„ê³µê°œ' í˜¹ì€ 'ê³µê°œ' ë²„íŠ¼ì´ í‘œì‹œëœë‹¤.
  - **ì¡°ê±´ë¶€ ë Œë”ë§**
    - ê²Œì‹œë¬¼ì´ ê³µê°œëœ ìƒíƒœì´ê±°ë‚˜(`data.visibility`) í˜„ì¬ ì‚¬ìš©ìê°€ í•´ë‹¹ ê²Œì‹œë¬¼ì˜ ì‘ì„±ìì¸ ê²½ìš°ì—ë§Œ ì „ì²´ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ë©°, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” `null`ì„ ë°˜í™˜í•´ í™”ë©´ì— ì•„ë¬´ê²ƒë„ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤.

## :joystick: Trouble Shooting
- [Reactì—ì„œ í…œí”Œë¦¿ ë¦¬í„°ëŸ´ br ì ìš©í•˜ëŠ” ë°©ë²•](https://rarrit.github.io/til/react/troubleshooting/react-inner-html/)


## :fire: íšŒê³ 
MBTI Test ì»´í¬ë„ŒíŠ¸ì—ì„œ `Tanstack Query`ì˜ ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©í•´ì„œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë´¤ë‹¤. ì´ì „ë³´ë‹¤ ë¡œì§ì„ í›¨ì”¬ ê°„ê²°í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆê³  API í˜¸ì¶œ ì‹œ ë°ì´í„° ì²˜ë¦¬ íë¦„ì„ ë” ëª…í™•í•˜ê²Œ í•  ìˆ˜ ìˆì—ˆë‹¤.

### :pushpin: Keep - í˜„ì¬ ë§Œì¡±í•˜ê³  ìˆëŠ” ë¶€ë¶„
ìˆ˜ì¤€ë³„ ë¶„ë°˜ ìˆ˜ì—… ë•Œ ê³µë¶€í•œ `Tanstack Query`ì™€ ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ ì ìš©í•´ë´¤ë‹¤.

### :pushpin: Problem - ë¶ˆí¸í•˜ê²Œ ëŠë¼ëŠ” ë¶€ë¶„
`TestListItem` ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¡°ê±´ë¶€ë¡œ ì²˜ë¦¬ë˜ëŠ” ë¶€ë¶„ì´ ë§ë‹¤. ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¡°ê±´ë¶€ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•  ë¡œì§ì„ ì‘ì„± í›„ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” propsë¡œ ì „ë‹¬ë°›ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ë³µì¡í•˜ê²Œ ëŠê»´ì¡Œë‹¤. íŠ¹íˆ, ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì™€ ê²Œì‹œë¬¼ ì‘ì„±ì ê°„ì˜ ì¡°ê±´ ì²˜ë¦¬ë‚˜, ê¸€ì˜ ê³µê°œ/ë¹„ê³µê°œ ì—¬ë¶€ì— ë”°ë¥¸ ë¡œì§ì´ ì¤‘ì²©ë˜ì–´ ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì´ëŸ¬í•œ ë¡œì§ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì»´í¬ë„ŒíŠ¸ê°€ ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•´ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.

### :pushpin: Try - problemì— ëŒ€í•œ í•´ê²°ì±…, ë‹¹ì¥ ì‹¤í–‰ ê°€ëŠ¥í•œ ê²ƒ
ë³µì¡í•œ ì¡°ê±´ë¶€ ë¡œì§ì„ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²˜ë¦¬í•˜ê¸°ë³´ë‹¤, ê´€ë ¨ëœ ì¡°ê±´ì„ ë³„ë„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 'ì‚¬ìš©ìê°€ í•´ë‹¹ ê¸€ì˜ ì‘ì„±ìì¸ê°€?', 'ê³µê°œ ì—¬ë¶€ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ê°€?' ë“±ì˜ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´, ê° ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì‰½ê²Œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ”ê²ƒê³¼ ì „ì—­ ì»¨í…ìŠ¤íŠ¸ë¥¼ í™œìš©í•˜ì—¬ `TestListItem` ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ì „ë‹¬ë°›ë„ë¡ ë¡œì§ì„ ìˆ˜ì •í•´ë´ì•¼ê² ë‹¤.

### :pushpin: ê´€ë ¨ ê¸€
- [[1ì°¨] íŒ©íŠ¸í­í–‰ MBTI í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ - ì´ˆê¸° ì„¸íŒ… ë° íšŒì› ê¸°ëŠ¥](https://rarrit.github.io/react/mini/mbti-project-1/)
- [[2ì°¨] íŒ©íŠ¸í­í–‰ MBTI í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ - MBTI í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ì ìš©](https://rarrit.github.io/react/mini/mbti-project-2/)
- [[3ì°¨] íŒ©íŠ¸í­í–‰ MBTI í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ - ë¦¬íŒ©í† ë§(API,ìƒíƒœ ê´€ë¦¬)](https://rarrit.github.io/react/mini/mbti-project-3/)