---
title: "[3ì°¨] Next.js ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œ ì •ë³´ í”„ë¡œì íŠ¸ (ì±”í”¼ì–¸ ìƒì„¸í˜ì´ì§€ êµ¬í˜„)"
date: 2024-10-02
layout: single
toc: true
toc_label: "ëª©ì°¨"
toc_icon: "align-left"
toc_sticky: true
categories:
  - mini
  - til
tags:
  - mini project
author_profile: true
sidebar_main: true
---

## :ledger: [3ì°¨] Next.js ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œ ì •ë³´ í”„ë¡œì íŠ¸ 

![champion-detail (1)](https://github.com/user-attachments/assets/413111dd-afa0-45c9-98ab-70c8c2e9312e)

### :rocket: ë² í¬ ë§í¬

- vercel
  - [https://lol-info-app-chi.vercel.app/](https://lol-info-app-chi.vercel.app/)
- github
  - [https://github.com/rarrit/lol-info-app](https://github.com/rarrit/lol-info-app)
  - branch
    - feat/champion

### :one: í”„ë¡œì íŠ¸ ì„¤ëª…

NextJSì™€ TypeScriptì„ ì‚¬ìš©í•˜ê³  Riot APIë¥¼ í™œìš©í•˜ì—¬ ë¦¬ê·¸ì˜¤ë¸Œë ˆì „ë“œì˜ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±í•œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.

### :two: STACK
![Next JS](https://img.shields.io/badge/Next-black?style=for-the-badge&logo=next.js&logoColor=white) ![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white) ![React Query](https://img.shields.io/badge/-React%20Query-FF4154?style=for-the-badge&logo=react%20query&logoColor=white) ![TailwindCSS](https://img.shields.io/badge/tailwindcss-%2338B2AC.svg?style=for-the-badge&logo=tailwind-css&logoColor=white) ![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E) ![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)

### :three: í”„ë¡œì íŠ¸ êµ¬ì¡°

- 3ì°¨ì—ì„  ì±”í”¼ì–¸ ìƒì„¸ í˜ì´ì§€ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.

<details>
<summary>ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°</summary>
ğŸ“¦app<br/>
 â”£ ğŸ“‚_components<br/>
 â”ƒ â”£ ğŸ“‚champions<br/>
 â”ƒ â”ƒ â”£ ğŸ“œChampionCard.tsx<br/>
 â”ƒ â”ƒ â”— ğŸ“œChampionList.tsx<br/>
 â”ƒ â”— ğŸ“‚items<br/>
 â”ƒ â”ƒ â”£ ğŸ“œitemCard.tsx<br/>
 â”ƒ â”ƒ â”£ ğŸ“œitemDesc.tsx<br/>
 â”ƒ â”ƒ â”— ğŸ“œitemList.tsx<br/>
 â”£ ğŸ“‚api<br/>
 â”ƒ â”£ ğŸ“‚rotation<br/>
 â”ƒ â”ƒ â”— ğŸ“œroute.ts<br/>
 â”ƒ â”— ğŸ“œapiKey.ts<br/>
 â”£ ğŸ“‚champions<br/>
 â”ƒ â”£ ğŸ“‚[id]<br/>
 â”ƒ â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”ƒ â”£ ğŸ“œlayout.tsx<br/>
 â”ƒ â”£ ğŸ“œloading.tsx<br/>
 â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”£ ğŸ“‚fonts<br/>
 â”ƒ â”£ ğŸ“œGeistMonoVF.woff<br/>
 â”ƒ â”— ğŸ“œGeistVF.woff<br/>
 â”£ ğŸ“‚items<br/>
 â”ƒ â”£ ğŸ“œloading.tsx<br/>
 â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”£ ğŸ“‚rotation<br/>
 â”ƒ â”£ ğŸ“œloading.tsx<br/>
 â”ƒ â”— ğŸ“œpage.tsx<br/>
 â”£ ğŸ“‚types<br/>
 â”ƒ â”£ ğŸ“œChampion.ts<br/>
 â”ƒ â”£ ğŸ“œChampionRotation.ts<br/>
 â”ƒ â”— ğŸ“œItem.ts<br/>
 â”£ ğŸ“‚utils<br/>
 â”ƒ â”£ ğŸ“œriotApi.ts<br/>
 â”ƒ â”— ğŸ“œserverApi.ts<br/>
 â”£ ğŸ“œfavicon.ico<br/>
 â”£ ğŸ“œglobal-error.tsx<br/>
 â”£ ğŸ“œglobals.css<br/>
 â”£ ğŸ“œlayout.tsx<br/>
 â”£ ğŸ“œloading.tsx<br/>
 â”— ğŸ“œpage.tsx
</details>

### :four: ì‘ì—… ëª©ë¡

#### :pushpin: 4-1) ì±”í”¼ì–¸ ìƒì„¸í˜ì´ì§€ ì„¤ì •
1. `app > champions > [id] > page.tsx` ë™ì  ê²½ë¡œë¥¼ ìƒì„±í•´ì¤Œ
2. ì„ íƒí•œ ì±”í”¼ì–¸ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ `params`ë¥¼ ì •ì˜í•´ì¤¬ë‹¤.

```tsx
const ChampionsPage = async ({ params } : { params: { id: string }}) => {}
```

#### :pushpin: 4-2) ìµœì‹  ë²„ì „ê³¼ ì±”í”¼ì–¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
1. ìƒì„¸í˜ì´ì§€ì˜ idì˜ ë§ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆê²Œ ì „ì²´ ì±”í”¼ì–¸ ë°ì´í„° ì¤‘ params.id ê°’ê³¼ ê°™ì€ ì±”í”¼ì–¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´ (`getChampionDetail(params.id)`)
2. `getLatestVersionUrl` í•¨ìˆ˜ë¥¼ í†µí•´ ìµœì‹  ë²„ì „ì„ ê°€ì ¸ì˜¨ ê²ƒì€ Image íƒœê·¸ì˜ srcì— ê°’ì„ ë„£ê¸° ìœ„í•¨ì¸ë°, ì´ê²Œ ìµœì„ ì¸ì§€ í˜„ì¬ë¡œì„  íŒë‹¨ì´ ë˜ì§€ ì•Šì•˜ë‹¤. ìµœì¢… ì™„ë£Œ í›„ í”¼ë“œë°±ì„ ë°›ê³  ìˆ˜ì •í•  ì˜ˆì •ì´ë‹¤.

```tsx
// app > champions > [id] > page.tsx
const champion = await getChampionDetail(params.id);
const latestVersion = await getLatestVersionUrl();

// app > utils > serverApi.ts
export const getLatestVersionUrl = async () => {
  const latestVersions = `${RIOT_BASE_URL}/api/versions.json`;
  const res = await fetch(latestVersions);
  const version: string[] = await res.json();
  const latestVersion = version[0];
  return latestVersion;
}

export const getChampionDetail = async ( id : string ) => {
  try {
    const latestVersion = await getLatestVersionUrl();
    const res = await fetch(`${RIOT_BASE_URL}/cdn/${latestVersion}/data/ko_KR/champion/${id}.json`);
    const { data } = await res.json();
    return data;
  }catch (error) {
    console.error("ì±”í”¼ì–¸ ìƒì„¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì—ëŸ¬:", error);
    throw error; 
  }
}
```

#### :pushpin: 4-3) ë°ì´í„° ì •ì˜ ë° ì‚¬ìš©
1. `championKey`: ìµœì‹  ë²„ì „ì˜ ê°’ì„ í• ë‹¹í•¨
2. `championDetail`: ì±”í”¼ì–¸ì˜ ìƒì„¸ì •ë³´ ë°ì´í„°ë¥¼ í• ë‹¹í•¨
3. `championSkins`: ì±”í”¼ì–¸ì˜ ê´€ë ¨ ìŠ¤í‚¨ ë°ì´í„°ë¥¼ í• ë‹¹í•¨
4. ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ì‚¼í•­ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì„œ ê¸°ë³¸ ë°ì´í„° ì ìš©

```tsx

// info 
return (
    <div id="championDetail" className="h-full pb-[60px]">      
      <div className="detail-top relative pt-[44px]">
        <div 
          className="absolute top-0 left-0 w-full h-[90%] bg-no-repeat bg-center bg-cover z-[1]"
          style={{
            backgroundImage: `url('${RIOT_BASE_URL}/cdn/img/champion/splash/${championDetail.id}_0.jpg')`,
            filter: "blur(15px)"
          }}
        ></div>
        <div 
          className="absolute top-0 left-0 w-full h-full z-[2] bg-no-repeat bg-center bg-contain max-m:bg-cover"
          style={{
            backgroundImage: `url('${RIOT_BASE_URL}/cdn/img/champion/splash/${championDetail.id}_0.jpg')`,
          }}
        ></div>
        <div className="absolute top-0 left-0 w-full h-full bg-[rgba(0,0,0,.5)] z-[3]"></div>
        <div className="relative z-20 flex justify-center w-full h-full flex max-w-[1440px] m-auto px-[30px] pt-[15%] pb-[20%] gap-[10px]">
          <div className="tBox w-full max-w-[600px]">
            <h1 className="flex flex-col justify-center items-center">                     
              <p className="text-[40px] font-bold bg-icon01 bg-no-repeat bg-[length:50px] bg-top pt-[60px] max-m:text-[30px]">{championDetail.name}</p>
              <span className="text-[13px] shadow-custom-white bg-[#111] rounded-[10px] mt-[5px] mb-[15px] py-[5px] px-[15px] max-m:text-[12px]">{championDetail.title}</span>
            </h1>        
            <p 
              className="text-center text-[14px] break-keep max-m:text-[13px]"
              style={{
                textShadow: ".1px .1px 3px rgb(241, 215, 40, .8)",
              }}
            >{championDetail.blurb}</p>
          </div>
        </div>            
      </div>
      <div className="w-full max-w-[1600px] m-auto px-[30px] max-m:px-[15px]">    
        <div className="infoBox flex items-stretch gap-[20px] mt-[40px] max-t:flex-col">
          <div className="w-[calc(50%-10px)] bg-[#111] shadow-custom rounded-[10px] p-[30px] max-t:w-full max-m:p-[15px]">
            <h2 className="text-[24px] font-medium mb-[10px] pb-[5px] border-b border-[rgba(255,255,255,.4)]">Info</h2>
            <div className="infoBox">
              <dl className="flex items-center gap-[5px]">
                <dt className="w-[100px]">Attack</dt>
                <dd className="w-[calc(100%-100px)] bg-[#222] rounded-[10px]">
                  <span 
                    className={`relative flex h-[5px] bg-[rgba(241,40,40,1)] rounded-[10px]`}
                    style={{
                      width: `${championDetail.info.attack !== 0 ? championDetail.info.attack * 10 : 55}%`
                    }}
                  ></span>
                </dd>
              </dl>
              <dl className="flex items-center gap-[5px]">
                <dt className="w-[100px]">Defense</dt>
                <dd className="w-[calc(100%-100px)] bg-[#222] rounded-[10px]">
                  <span 
                    className={`flex h-[5px] bg-[rgba(108,241,40,1)] rounded-[10px]`}
                    style={{
                      width: `${championDetail.info.defense !== 0 ? championDetail.info.defense * 10 : 30}%`
                    }}
                  ></span>
                </dd>
              </dl>
              <dl className="flex items-center gap-[5px]">
                <dt className="w-[100px]">Magic</dt>
                <dd className="w-[calc(100%-100px)] bg-[#222] rounded-[10px]">
                  <span 
                    className="flex h-[5px] bg-[rgba(47,40,241,1)] rounded-[10px]"
                    style={{
                      width: `${championDetail.info.magic !== 0 ? championDetail.info.magic * 10 : 44}%`
                    }}
                  ></span>
                </dd>
              </dl>
              <dl className="flex items-center gap-[5px]">
                <dt className="w-[100px]">Difficulty</dt>
                <dd className="w-[calc(100%-100px)] bg-[#222] rounded-[10px]">
                  <span 
                    className="flex w-[${championDetail.info.difficulty * 10}%] h-[5px] bg-[rgba(241,238,40,1)] rounded-[10px]"
                    style={{
                      width: `${championDetail.info.difficulty !== 0 ? championDetail.info.difficulty * 10 : 76}%`
                    }}
                  ></span>
                </dd>
              </dl>
            </div>
          </div>
          <div className="w-[calc(50%-10px)] bg-[#111] shadow-custom rounded-[10px] p-[30px] max-t:w-full max-m:p-[15px]">      
            <h2 className="text-[24px] font-medium mb-[10px] pb-[5px] border-b border-[rgba(255,255,255,.4)]">Skills<span className="text-[12px] text-[rgba(255,255,255,.3)] ml-[10px]">(ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)</span></h2>
            <ul className="flex items-start gap-[10px] max-m:flex-wrap">              
              {
                championDetail.spells.map(spell => {
                  return (
                    <li key={spell.id} className="flex flex-1 flex-col items-center justify-start gap-[5px] max-m:flex-none max-m:w-[calc(50%-10px)]">
                      <div>                        
                        <Image 
                          src={`${RIOT_BASE_URL}/cdn/${latestVersion}/img/spell/${spell.id}.png`} 
                          className="m-auto rounded-[5px] shadow-custom-white"
                          width={50}
                          height={50}
                          alt={spell.id ? spell.id : "ì±”í”¼ì–¸ ì´ë¯¸ì§€"} 
                        />     
                        <p className="text-[14px] mt-[10px] text-center font-bold">
                          {spell.name}
                        </p>                 

                      </div>
                      <div className="text-[13px] text-center text-[rgba(199,199,199,1)] line-clamp-2">
                        {spell.description}
                      </div>
                    </li>
                  )
                })
              }
            </ul>
          </div>
        </div>
        <div className="infoBox mt-[20px]">
          <div className="w-full bg-[#111] shadow-custom rounded-[10px] p-[30px] max-m:p-[15px]">
            <h2 className="text-[24px] font-medium mb-[10px] pb-[5px] border-b border-[rgba(255,255,255,.4)]">Skins</h2>
            <div className="skinList flex flex-wrap items-center gap-[10px]">
              {            
                championSkins.map(skin => {
                  return (
                    <div key={skin.id} className="relative flex flex-col items-center w-[calc(33.333%-10px)] py-[10%] max-t:w-full max-t:py-[30%] max-m:w-full max-m:py-[30%]">
                      <div className="loading-ui">
                        <p className="bg-loading">ë¡œë”©ì¤‘ì…ë‹ˆë‹¤.</p>
                      </div>
                      <Image
                        src={`${RIOT_BASE_URL}/cdn/img/champion/splash/${championDetail.id}_${skin.num}.jpg`}
                        layout="fill"
                        alt={skin.id}
                        className="rounded-lg shadow-lg"
                      />
                      <p className="absolute top-[5px] right-[5px] z-20 min-w-[120px] flex items-center justify-center p-[8px] font-medium bg-black bg-opacity-70 rounded-[10px] max-m:text-[14px]">{skin.name}</p>
                    </div>
                  );
                })
              }
            </div>
          </div>          
        </div>
        <div className="btnArea flex items-center justify-center mt-[30px] mb-[60px] group">
          <Link href={"/champions"} className="bg-[#131313] shadow-custom rounded-[10px] px-[40px] py-[20px] group-hover:bg-[rgba(40,40,241,1)]">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</Link>
        </div>
      </div>
    </div>
  )
```

### :fire: íšŒê³ 
ìƒì„¸í˜ì´ì§€ë¥¼ ì‘ì—… ì™„ë£Œ í›„ ìš•ì‹¬ì— ë¹„í•´ ë§ì€ ê¸°ëŠ¥ì„ ì ìš©í•˜ì§€ ëª»í•œ ì•„ì‰¬ì›€ì´ ë„ˆë¬´ ì»¸ë‹¤. ìƒê°ë³´ë‹¤ í…Œì¼ìœˆë“œë„ ì†ì— ì‰½ê²Œ ìµì§€ ì•Šì§€ë§Œ ì¬ë°Œê²Œ í•œ í¸

#### :pushpin: Keep - í˜„ì¬ ë§Œì¡±í•˜ê³  ìˆëŠ” ë¶€ë¶„
í…Œì¼ìœˆë“œê°€ ë§ì´ ìµìˆ™í•˜ì§€ ì•Šì•˜ëŠ”ë°, í˜¸ë²„, ë°˜ì‘í˜• ë° ì»¤ìŠ¤í…€ ì‘ì—…ê¹Œì§€ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³  ì›í•˜ëŠ” ë°ì´í„°ë¥¼ í•„í„°ë§í•´ì„œ ë°”ì¸ë”©í•  ìˆ˜ ìˆë‹¤.

#### :pushpin: Problem - ë¶ˆí¸í•˜ê²Œ ëŠë¼ëŠ” ë¶€ë¶„
íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë„ˆë¬´ í—·ê°ˆë¦°ë‹¤. 

#### :pushpin: Try - problemì— ëŒ€í•œ í•´ê²°ì±…, ë‹¹ì¥ ì‹¤í–‰ ê°€ëŠ¥í•œ ê²ƒ
ìƒê°í•´ë³´ë‹ˆ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë„ ë°°ìš´ ì§€ ì–¼ë§ˆ ì•ˆë˜ê°€ì§€ê³  ë¶ˆí¸í•œ ê±´ ì–´ì©” ìˆ˜ ì—†ê³  ê³„ì† ì¨ë´ì•¼í•œë‹¤ê³  ìƒê°í•¨